<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Markov Chains and Chutes &amp; Ladders in R | Colton</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="Introduction Chutes &amp; Ladders, or Eels &amp; Escalators for any Spongebob Squarepants fans like myself out there, is a game all about luck. The goal is to get to exactly the end of the 100-tile board by rolling a six-sided die. No over-shooting. If you happen to land at the base of a ladder, you may move up to the top of the ladder. If you are unfortunate enough to land on top of a slide, you go all the way to the bottom of the slide.">
    <meta name="generator" content="Hugo 0.93.3" />
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    
<link rel="stylesheet" href="https://www.cbarger.com/ananke/css/main.min.css" >



    
    
    
      
<link rel="shortcut icon" href="https://www.cbarger.com/images/first-difference.png" type="image/x-icon" />


    

    
    
    <meta property="og:title" content="Markov Chains and Chutes &amp; Ladders in R" />
<meta property="og:description" content="Introduction Chutes &amp; Ladders, or Eels &amp; Escalators for any Spongebob Squarepants fans like myself out there, is a game all about luck. The goal is to get to exactly the end of the 100-tile board by rolling a six-sided die. No over-shooting. If you happen to land at the base of a ladder, you may move up to the top of the ladder. If you are unfortunate enough to land on top of a slide, you go all the way to the bottom of the slide." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.cbarger.com/projects/chutes-and-ladders/" /><meta property="article:section" content="projects" />
<meta property="article:published_time" content="2022-03-21T10:58:08-04:00" />
<meta property="article:modified_time" content="2022-03-21T10:58:08-04:00" /><meta property="og:site_name" content="Colton" />

<meta itemprop="name" content="Markov Chains and Chutes &amp; Ladders in R">
<meta itemprop="description" content="Introduction Chutes &amp; Ladders, or Eels &amp; Escalators for any Spongebob Squarepants fans like myself out there, is a game all about luck. The goal is to get to exactly the end of the 100-tile board by rolling a six-sided die. No over-shooting. If you happen to land at the base of a ladder, you may move up to the top of the ladder. If you are unfortunate enough to land on top of a slide, you go all the way to the bottom of the slide."><meta itemprop="datePublished" content="2022-03-21T10:58:08-04:00" />
<meta itemprop="dateModified" content="2022-03-21T10:58:08-04:00" />
<meta itemprop="wordCount" content="1537">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Markov Chains and Chutes &amp; Ladders in R"/>
<meta name="twitter:description" content="Introduction Chutes &amp; Ladders, or Eels &amp; Escalators for any Spongebob Squarepants fans like myself out there, is a game all about luck. The goal is to get to exactly the end of the 100-tile board by rolling a six-sided die. No over-shooting. If you happen to land at the base of a ladder, you may move up to the top of the ladder. If you are unfortunate enough to land on top of a slide, you go all the way to the bottom of the slide."/>

	
  </head>

  <body class="ma0 avenir bg-near-white">

    
   
  

  
  
  <header class="cover bg-top" style="background-image: url('https://www.cbarger.com/images/eels-and-esc.jpg');">
    <div class="bg-black-60">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="https://www.cbarger.com/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        Colton
      
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="https://www.cbarger.com/about/" title="About page">
              About
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="https://www.cbarger.com/contact/" title="Contact Me page">
              Contact Me
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="https://www.cbarger.com/projects/" title="Projects page">
              Projects
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="https://www.cbarger.com/resume/" title="Resume page">
              Resume
            </a>
          </li>
          
        </ul>
      
      
<div class="ananke-socials">
  
    <a href="https://github.com/cbarger233" target="_blank" class="github ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="GitHub link" rel="noopener" aria-label="follow on GitHub——Opens in a new window">
      
        <span class="icon"><svg style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
  <path d="M256,32C132.3,32,32,134.8,32,261.7c0,101.5,64.2,187.5,153.2,217.9c11.2,2.1,15.3-5,15.3-11.1   c0-5.5-0.2-19.9-0.3-39.1c-62.3,13.9-75.5-30.8-75.5-30.8c-10.2-26.5-24.9-33.6-24.9-33.6c-20.3-14.3,1.5-14,1.5-14   c22.5,1.6,34.3,23.7,34.3,23.7c20,35.1,52.4,25,65.2,19.1c2-14.8,7.8-25,14.2-30.7c-49.7-5.8-102-25.5-102-113.5   c0-25.1,8.7-45.6,23-61.6c-2.3-5.8-10-29.2,2.2-60.8c0,0,18.8-6.2,61.6,23.5c17.9-5.1,37-7.6,56.1-7.7c19,0.1,38.2,2.6,56.1,7.7   c42.8-29.7,61.5-23.5,61.5-23.5c12.2,31.6,4.5,55,2.2,60.8c14.3,16.1,23,36.6,23,61.6c0,88.2-52.4,107.6-102.3,113.3   c8,7.1,15.2,21.1,15.2,42.5c0,30.7-0.3,55.5-0.3,63c0,6.1,4,13.3,15.4,11C415.9,449.1,480,363.1,480,261.7   C480,134.8,379.7,32,256,32z"/>
</svg>
</span>
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
    <a href="https://www.linkedin.com/in/colton-barger-53158a14a/" target="_blank" class="linkedin ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="LinkedIn link" rel="noopener" aria-label="follow on LinkedIn——Opens in a new window">
      
        <span class="icon"><svg style="enable-background:new 0 0 65 65;" version="1.1" viewBox="0 0 65 65"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M50.837,48.137V36.425c0-6.275-3.35-9.195-7.816-9.195  c-3.604,0-5.219,1.983-6.119,3.374V27.71h-6.79c0.09,1.917,0,20.427,0,20.427h6.79V36.729c0-0.609,0.044-1.219,0.224-1.655  c0.49-1.22,1.607-2.483,3.482-2.483c2.458,0,3.44,1.873,3.44,4.618v10.929H50.837z M22.959,24.922c2.367,0,3.842-1.57,3.842-3.531  c-0.044-2.003-1.475-3.528-3.797-3.528s-3.841,1.524-3.841,3.528c0,1.961,1.474,3.531,3.753,3.531H22.959z M34,64  C17.432,64,4,50.568,4,34C4,17.431,17.432,4,34,4s30,13.431,30,30C64,50.568,50.568,64,34,64z M26.354,48.137V27.71h-6.789v20.427  H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span>
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
    <a href="https://medium.com/@cbarger233" target="_blank" class="medium ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="Medium link" rel="noopener" aria-label="follow on Medium——Opens in a new window">
      
        <span class="icon"><svg style="enable-background:new 0 0 170 170;" version="1.1" viewBox="0 0 170 170"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M46.5340803,65.2157554 C46.6968378,63.6076572 46.0836,62.018231 44.8828198,60.93592 L32.6512605,46.2010582 L32.6512605,44 L70.6302521,44 L99.9859944,108.380952 L125.794585,44 L162,44 L162,46.2010582 L151.542017,56.2281011 C150.640424,56.9153477 150.193188,58.0448862 150.380019,59.1628454 L150.380019,132.837155 C150.193188,133.955114 150.640424,135.084652 151.542017,135.771899 L161.755369,145.798942 L161.755369,148 L110.38282,148 L110.38282,145.798942 L120.963119,135.527337 C122.002801,134.487948 122.002801,134.182246 122.002801,132.592593 L122.002801,73.0417402 L92.585901,147.755438 L88.6106443,147.755438 L54.3622782,73.0417402 L54.3622782,123.115814 C54.0767278,125.221069 54.7759199,127.3406 56.2581699,128.863022 L70.0186741,145.55438 L70.0186741,147.755438 L31,147.755438 L31,145.55438 L44.7605042,128.863022 C46.2319621,127.338076 46.8903838,125.204485 46.5340803,123.115814 L46.5340803,65.2157554 Z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span>
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
</div>
    </div>
  </div>
</nav>

      <div class="tc-l pv6 ph3 ph4-ns">
        
          <h1 class="f2 f1-l fw2 white-90 mb0 lh-title">Markov Chains and Chutes &amp; Ladders in R</h1>
          
        
      </div>
    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked">
          
        PROJECTS
      </aside>
      
      <h1 class="f1 athelas mt3 mb1">Markov Chains and Chutes &amp; Ladders in R</h1>
      
      <p class="tracked">
          By <strong>
          
              Colton Barger
          
          </strong>
      </p>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2022-03-21T10:58:08-04:00">March 21, 2022</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><h2 id="introduction">Introduction</h2>
<p>Chutes &amp; Ladders, or Eels &amp; Escalators for any <em>Spongebob Squarepants</em> fans like myself out there, is a game all about luck. The goal is to get to exactly the end of the 100-tile board by rolling a six-sided die. No over-shooting. If you happen to land at the base of a ladder, you may move up to the top of the ladder. If you are unfortunate enough to land on top of a slide, you go all the way to the bottom of the slide. A picture of the board is shown below. The first person to get to 100 (or 80) wins the game.</p>
<p><img src="https://www.cbarger.com/images/chutes-and-ladders.png" alt="Supposed to be a picture of the board" title="Chutes &amp; Ladders board"></p>
<p>The playing of this game can be simulated via Markov Chains through transition matrices, otherwise known as a stochastic or probability matrix. More information about these matrices can be found <a href="https://www.openriskmanual.org/wiki/Transition_Matrix#:~:text=A%20Transition%20Matrix%2C%20also%2C%20known,describes%20the%20system%20being%20modelled">here</a>. The main property of Markov Chains is that the future outcome is entirely dependent on your present state. In other words, the past doesn&rsquo;t matter when it comes to Markov modeling. Well, you could say it matters a little bit if you&rsquo;re trying to win&hellip; but the possible squares you can land on in any given turn are dependent only on where you currently stand.</p>
<p>For example let&rsquo;s say you&rsquo;re at square 26 on the above game board. You roll a six-sided die and get a number between 1 and 6, inclusive. The only squares you can reach on that turn are 27, 28, 29, 30, 31, or 32; however, if you land on square 28 you venture up to square 84 because you landed at the base of a tall ladder. Thus if you are standing on square 26 you can only end up on squares 27, 84, 29, 30, 31, or 32. How you initially got to square 26 does not matter for mathematical modeling purposes at this point in the game. That&rsquo;s in the past.</p>
<h2 id="how-to-model-the-game">How to Model the Game</h2>
<p>To simulate the game via Markov Chains we need three different transition matrices which describe the rules of how a player is able to mathematically move around the board. In the R code below there are four different matrices:</p>
<ol>
<li>
<p><strong>D</strong>, which is a 100x100 matrix describing how you move around the board with a die. For example, there is a 1/6 chance you you roll a 3 when on square 22. This means you move from square 22 to 25. Thus D[22,25] will be 1/6 since there is a 1/6 chance of moving from 22 to 25. Similar logic for all other squares.</p>
</li>
<li>
<p><strong>C</strong>, which describes how you move around the board with the chutes, or slides. This is a sparse 100x100 matrix with only 10 entries filled with 1s. If you land on square 16, for example, there is a 100% chance you will move down to square 6 because of the chute. Thus C[16,6] is filled with a 1.</p>
</li>
<li>
<p><strong>L</strong>, which described how you move around the board using ladders. This is very similar to <strong>C</strong>, except this matrix only has 9 filled entries.</p>
</li>
<li>
<p><strong>P</strong>, which you obtain by multiplying <strong>D</strong>, <strong>C</strong>, and <strong>L</strong> together using matrix multiplication in which the order doesn&rsquo;t matter. This matrix is the combination of all the other three matrices, so it takes into account all three kinds of movement on the board.</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(expm)
</span></span><span style="display:flex;"><span>D <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">matrix</span>(<span style="color:#ae81ff">0L</span>, nrow<span style="color:#f92672">=</span><span style="color:#ae81ff">101</span>, ncol<span style="color:#f92672">=</span><span style="color:#ae81ff">101</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">for </span>(i in <span style="color:#ae81ff">1</span><span style="color:#f92672">:</span><span style="color:#ae81ff">100</span>){
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">for </span>(j <span style="color:#a6e22e">in </span>(i<span style="color:#ae81ff">+1</span>)<span style="color:#f92672">:</span>(i<span style="color:#ae81ff">+6</span>)){
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">if </span>(j <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">100</span>){
</span></span><span style="display:flex;"><span>      D[i,j]<span style="color:#f92672">=</span>(<span style="color:#ae81ff">1</span><span style="color:#f92672">/</span><span style="color:#ae81ff">6</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">for </span>(i in <span style="color:#ae81ff">1</span><span style="color:#f92672">:</span><span style="color:#ae81ff">6</span>){
</span></span><span style="display:flex;"><span>  D[101,i] <span style="color:#f92672">=</span> (<span style="color:#ae81ff">1</span><span style="color:#f92672">/</span><span style="color:#ae81ff">6</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>D[100,<span style="color:#ae81ff">100</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>D[99,<span style="color:#ae81ff">99</span>]<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span><span style="color:#f92672">/</span><span style="color:#ae81ff">6</span>
</span></span><span style="display:flex;"><span>D[98,<span style="color:#ae81ff">98</span>]<span style="color:#f92672">=</span><span style="color:#ae81ff">4</span><span style="color:#f92672">/</span><span style="color:#ae81ff">6</span>
</span></span><span style="display:flex;"><span>D[97,<span style="color:#ae81ff">97</span>]<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span><span style="color:#f92672">/</span><span style="color:#ae81ff">6</span>
</span></span><span style="display:flex;"><span>D[96,<span style="color:#ae81ff">96</span>]<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span><span style="color:#f92672">/</span><span style="color:#ae81ff">6</span>
</span></span><span style="display:flex;"><span>D[95,<span style="color:#ae81ff">95</span>]<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span><span style="color:#f92672">/</span><span style="color:#ae81ff">6</span>
</span></span><span style="display:flex;"><span>C <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">matrix</span>(<span style="color:#ae81ff">0L</span>, nrow<span style="color:#f92672">=</span><span style="color:#ae81ff">101</span>, ncol<span style="color:#f92672">=</span><span style="color:#ae81ff">101</span>)
</span></span><span style="display:flex;"><span>C[16,<span style="color:#ae81ff">6</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>C[47,<span style="color:#ae81ff">26</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>C[49,<span style="color:#ae81ff">11</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>C[56,<span style="color:#ae81ff">53</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>C[62,<span style="color:#ae81ff">19</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>C[64,<span style="color:#ae81ff">60</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>C[87,<span style="color:#ae81ff">24</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>C[93,<span style="color:#ae81ff">73</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>C[95,<span style="color:#ae81ff">75</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>C[98,<span style="color:#ae81ff">78</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">for </span>(i in <span style="color:#ae81ff">1</span><span style="color:#f92672">:</span><span style="color:#ae81ff">101</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">if </span>(<span style="color:#a6e22e">sum</span>(C[i,]) <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>    C[i,i] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>L <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">matrix</span>(<span style="color:#ae81ff">0L</span>, nrow<span style="color:#f92672">=</span><span style="color:#ae81ff">101</span>, ncol<span style="color:#f92672">=</span><span style="color:#ae81ff">101</span>)
</span></span><span style="display:flex;"><span>L[1,<span style="color:#ae81ff">38</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>L[4,<span style="color:#ae81ff">14</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>L[9,<span style="color:#ae81ff">31</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>L[21,<span style="color:#ae81ff">42</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>L[28,<span style="color:#ae81ff">84</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>L[36,<span style="color:#ae81ff">44</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>L[51,<span style="color:#ae81ff">67</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>L[71,<span style="color:#ae81ff">91</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>L[80,<span style="color:#ae81ff">100</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#only 9 ladders compared to 10 chutes, kind of mean</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">for </span>(i in <span style="color:#ae81ff">1</span><span style="color:#f92672">:</span><span style="color:#ae81ff">101</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">if </span>(<span style="color:#a6e22e">sum</span>(L[i,]) <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>    L[i,i] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>P <span style="color:#f92672">=</span> D <span style="color:#f92672">%*%</span> C <span style="color:#f92672">%*%</span> L
</span></span></code></pre></div><p>Something of interest might be to know the probability distribution of winning after each turn. This can be achieved by creating a starting vector of all 0s except for a single 1 in the 101st index. If I forgot to mention we are using 101 as the index of the zeroth spot, or starting roll, if you will. This is convenient as it means that each index (1, 2, etc&hellip;) corresponds to the correct square number on the game board.</p>
<p>To get the probability of getting to the end on turn <em>i</em>, we raise the transition matrix <strong>P</strong> to the <em>i</em>th power to artificially simulate <em>i</em> rolls of the die. The starting vector multiplied by the resulting transition matrix after <em>i</em> turns will result in a new vector telling us the probability of being in each square after <em>i</em> turns. This is done in the code block below.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>start <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">rep</span>(<span style="color:#ae81ff">0L</span>, <span style="color:#ae81ff">101</span>)               <span style="color:#75715e">#starting vector</span>
</span></span><span style="display:flex;"><span>start[101] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>                      <span style="color:#75715e">#starting off in the zeroth space</span>
</span></span><span style="display:flex;"><span>distribution <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">rep</span>(<span style="color:#ae81ff">0L</span>, <span style="color:#ae81ff">200</span>)        <span style="color:#75715e">#zero vector to store the probability vector in</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">for </span>(i in <span style="color:#ae81ff">0</span><span style="color:#f92672">:</span><span style="color:#ae81ff">200</span>) {
</span></span><span style="display:flex;"><span>  P_n <span style="color:#f92672">&lt;-</span> P <span style="color:#f92672">%^%</span> i                    <span style="color:#75715e">#raising the transition matrix P to the ith power</span>
</span></span><span style="display:flex;"><span>  end_state <span style="color:#f92672">&lt;-</span> start <span style="color:#f92672">%*%</span> P_n        <span style="color:#75715e">#getting the probability of being in each square after i turns</span>
</span></span><span style="display:flex;"><span>  distribution[i] <span style="color:#f92672">=</span> end_state[100]  <span style="color:#75715e">#grabbing the probability of being at the end</span>
</span></span><span style="display:flex;"><span> prob_dist <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">diff</span>(distribution)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">plot</span>(prob_dist, main <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Probability of Winning Chutes and Ladders on Each Turn&#39;</span>,
</span></span><span style="display:flex;"><span>     xlab <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Turn&#39;</span>,
</span></span><span style="display:flex;"><span>     ylab <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Probability of Winning&#39;</span>,
</span></span><span style="display:flex;"><span>     type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;b&#39;</span>,
</span></span><span style="display:flex;"><span>     col<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;dark green&#39;</span>)
</span></span></code></pre></div><p><img src="https://www.cbarger.com/images/chutes-and-ladders-prob-after-each-turn.png" alt="" title="Probability of winning chutes and ladders after each turn."></p>
<h2 id="most-likely-game-length-and-minimum-game-length">Most Likely Game Length and Minimum Game Length</h2>
<p>The most likely game length is given by the peak of the above plot. If we want to find this we simply need to find the index of the maximum value in the vector that I named <code>prob_dist</code> in the previous cell of code.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>max_val <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">for </span>(i in <span style="color:#ae81ff">1</span><span style="color:#f92672">:</span><span style="color:#ae81ff">199</span>){
</span></span><span style="display:flex;"><span>  current_val <span style="color:#f92672">=</span> prob_dist[i]
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">if</span>(current_val <span style="color:#f92672">&gt;</span> max_val){
</span></span><span style="display:flex;"><span>    max_val <span style="color:#f92672">=</span> current_val
</span></span><span style="display:flex;"><span>    most_likely <span style="color:#f92672">=</span> i
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>most_likely
</span></span><span style="display:flex;"><span>prob_dist[most_likely]
</span></span></code></pre></div><p>Thus the most likely game length is 22 rolls of the die, with probability 0.02497. I added one to the number 21 that the code output since the first &ldquo;roll&rdquo; isn&rsquo;t actually a roll, but rather the starting state.</p>
<p>The minimum game length is the index of the first entry in the vector <code>prob_dist</code> that is non-zero.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>first <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">for </span>(i in <span style="color:#ae81ff">1</span><span style="color:#f92672">:</span><span style="color:#ae81ff">200</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">if </span>(prob_dist[i] <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>){
</span></span><span style="display:flex;"><span>    first <span style="color:#f92672">=</span> i
</span></span><span style="display:flex;"><span>    break
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>prob_dist[first]
</span></span><span style="display:flex;"><span>first
</span></span></code></pre></div><p>According to the above code the minimum game length is achieved in 7 rolls of the die with a probability of 0.0015.</p>
<p>There are a few ways to achieve the shortest game, but one combination of rolls is (4, 6, 6, 2, 6, 6, 4). This puts you on square 100 exactly with the route 0-&gt;14-&gt;20-&gt;26-&gt;84-&gt;90-&gt;96-&gt;100</p>
<h2 id="probability-of-game-ending-after-n-turns">Probability of Game Ending After n Turns</h2>
<p>Using independence, the probability that the game will end after n turns with 3 people is the probability that the game will end after at least one of the three people reaches the end. A well-known technique in probability is that the probability of &ldquo;at least one&rdquo; is equal to one minus the probability that none of the games end after n turns. The probability that none of the three games end is one minus the probability that each individual game will end, cubed. This can be seen in the code chunk below. Shown below is a graph of the probability of the game ending for 1, 2, and 3 people after n turns.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>distribution2 <span style="color:#f92672">&lt;-</span> <span style="color:#ae81ff">1</span><span style="color:#f92672">-</span>(<span style="color:#ae81ff">1</span><span style="color:#f92672">-</span>distribution)^2
</span></span><span style="display:flex;"><span>distribution3 <span style="color:#f92672">&lt;-</span> <span style="color:#ae81ff">1</span><span style="color:#f92672">-</span>(<span style="color:#ae81ff">1</span><span style="color:#f92672">-</span>distribution)^3
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">plot</span>(distribution[1<span style="color:#f92672">:</span><span style="color:#ae81ff">140</span>], pch<span style="color:#f92672">=</span><span style="color:#ae81ff">15</span>, col<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;blue&#34;</span>,
</span></span><span style="display:flex;"><span>     xlab <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Turn&#39;</span>,
</span></span><span style="display:flex;"><span>     ylab <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Probability of Game Ending&#39;</span>,
</span></span><span style="display:flex;"><span>     main <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Probability of Game Ending After n Turns&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">points</span>(distribution2[1<span style="color:#f92672">:</span><span style="color:#ae81ff">140</span>], pch<span style="color:#f92672">=</span><span style="color:#ae81ff">16</span>, col<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;red&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">points</span>(distribution3[1<span style="color:#f92672">:</span><span style="color:#ae81ff">140</span>], pch<span style="color:#f92672">=</span><span style="color:#ae81ff">17</span>, col<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;dark red&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">legend</span>(<span style="color:#e6db74">&#39;bottomright&#39;</span>,
</span></span><span style="display:flex;"><span>       legend<span style="color:#f92672">=</span><span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#39;One Person&#39;</span>, <span style="color:#e6db74">&#39;Two People&#39;</span>, <span style="color:#e6db74">&#39;Three People&#39;</span>),
</span></span><span style="display:flex;"><span>       col <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#39;blue&#39;</span>, <span style="color:#e6db74">&#39;red&#39;</span>, <span style="color:#e6db74">&#39;dark red&#39;</span>),
</span></span><span style="display:flex;"><span>       pch <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">15</span>,<span style="color:#ae81ff">16</span>,<span style="color:#ae81ff">17</span>),
</span></span><span style="display:flex;"><span>       bty<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;n&#34;</span>)
</span></span></code></pre></div><p><img src="https://www.cbarger.com/images/chutes-and-ladders-prob-after-n-turns.PNG" alt="alt text" title="Probability of the game having ended after n turns with 1, 2, and 3 people playing."></p>
<p>As expected, the game should end more quickly the more people we add to the game. Note that we&rsquo;re talking about number of turns here and not time. The amount of time in which you finish this game is completely dependent on the group of friends you are playing with. If it were my group of friends, we would add crazy conditions such as &ldquo;play a game of jenga for every time you land on a chute or ladder.&rdquo; I&rsquo;m getting off-topic, but you get the point.</p>
<p>The distribution of the game&rsquo;s length with three people is given by the plot below:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>prob_dist3 <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">diff</span>(distribution3)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">plot</span>(prob_dist3[1<span style="color:#f92672">:</span><span style="color:#ae81ff">100</span>],
</span></span><span style="display:flex;"><span>     xlab <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Turn&#39;</span>,
</span></span><span style="display:flex;"><span>     ylab <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Probability of Game Ending&#39;</span>,
</span></span><span style="display:flex;"><span>     main <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Probability of Game Ending With Three People&#39;</span>,
</span></span><span style="display:flex;"><span>     col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;purple&#39;</span>,
</span></span><span style="display:flex;"><span>     type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;b&#39;</span>)
</span></span></code></pre></div><p><img src="https://www.cbarger.com/images/chutes-and-ladders-prob-after-each-turn-three.PNG" alt="alt text" title="Probability distribution of a game involving three people ending"></p>
<p>The most likely length of the game shifts closer to 0 (or should I say 7).</p>
<p>The most likely overall game length is calculated in a way similar to the game with one person.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>max_val <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">for </span>(i in <span style="color:#ae81ff">1</span><span style="color:#f92672">:</span><span style="color:#ae81ff">199</span>){
</span></span><span style="display:flex;"><span>  current_val <span style="color:#f92672">=</span> prob_dist3[i]
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">if</span>(current_val <span style="color:#f92672">&gt;</span> max_val){
</span></span><span style="display:flex;"><span>    max_val <span style="color:#f92672">=</span> current_val
</span></span><span style="display:flex;"><span>    most_likely <span style="color:#f92672">=</span> i
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>most_likely
</span></span><span style="display:flex;"><span>prob_dist[most_likely]
</span></span></code></pre></div><p>So the game will most likely end after 17 turns with a probability of 0.0227, or 2.27%</p>
<ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-light-purple bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://www.cbarger.com" >
    &copy;  Colton 2022 
  </a>
    <div>
<div class="ananke-socials">
  
    <a href="https://github.com/cbarger233" target="_blank" class="github ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="GitHub link" rel="noopener" aria-label="follow on GitHub——Opens in a new window">
      
        <span class="icon"><svg style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
  <path d="M256,32C132.3,32,32,134.8,32,261.7c0,101.5,64.2,187.5,153.2,217.9c11.2,2.1,15.3-5,15.3-11.1   c0-5.5-0.2-19.9-0.3-39.1c-62.3,13.9-75.5-30.8-75.5-30.8c-10.2-26.5-24.9-33.6-24.9-33.6c-20.3-14.3,1.5-14,1.5-14   c22.5,1.6,34.3,23.7,34.3,23.7c20,35.1,52.4,25,65.2,19.1c2-14.8,7.8-25,14.2-30.7c-49.7-5.8-102-25.5-102-113.5   c0-25.1,8.7-45.6,23-61.6c-2.3-5.8-10-29.2,2.2-60.8c0,0,18.8-6.2,61.6,23.5c17.9-5.1,37-7.6,56.1-7.7c19,0.1,38.2,2.6,56.1,7.7   c42.8-29.7,61.5-23.5,61.5-23.5c12.2,31.6,4.5,55,2.2,60.8c14.3,16.1,23,36.6,23,61.6c0,88.2-52.4,107.6-102.3,113.3   c8,7.1,15.2,21.1,15.2,42.5c0,30.7-0.3,55.5-0.3,63c0,6.1,4,13.3,15.4,11C415.9,449.1,480,363.1,480,261.7   C480,134.8,379.7,32,256,32z"/>
</svg>
</span>
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
    <a href="https://www.linkedin.com/in/colton-barger-53158a14a/" target="_blank" class="linkedin ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="LinkedIn link" rel="noopener" aria-label="follow on LinkedIn——Opens in a new window">
      
        <span class="icon"><svg style="enable-background:new 0 0 65 65;" version="1.1" viewBox="0 0 65 65"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M50.837,48.137V36.425c0-6.275-3.35-9.195-7.816-9.195  c-3.604,0-5.219,1.983-6.119,3.374V27.71h-6.79c0.09,1.917,0,20.427,0,20.427h6.79V36.729c0-0.609,0.044-1.219,0.224-1.655  c0.49-1.22,1.607-2.483,3.482-2.483c2.458,0,3.44,1.873,3.44,4.618v10.929H50.837z M22.959,24.922c2.367,0,3.842-1.57,3.842-3.531  c-0.044-2.003-1.475-3.528-3.797-3.528s-3.841,1.524-3.841,3.528c0,1.961,1.474,3.531,3.753,3.531H22.959z M34,64  C17.432,64,4,50.568,4,34C4,17.431,17.432,4,34,4s30,13.431,30,30C64,50.568,50.568,64,34,64z M26.354,48.137V27.71h-6.789v20.427  H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span>
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
    <a href="https://medium.com/@cbarger233" target="_blank" class="medium ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="Medium link" rel="noopener" aria-label="follow on Medium——Opens in a new window">
      
        <span class="icon"><svg style="enable-background:new 0 0 170 170;" version="1.1" viewBox="0 0 170 170"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M46.5340803,65.2157554 C46.6968378,63.6076572 46.0836,62.018231 44.8828198,60.93592 L32.6512605,46.2010582 L32.6512605,44 L70.6302521,44 L99.9859944,108.380952 L125.794585,44 L162,44 L162,46.2010582 L151.542017,56.2281011 C150.640424,56.9153477 150.193188,58.0448862 150.380019,59.1628454 L150.380019,132.837155 C150.193188,133.955114 150.640424,135.084652 151.542017,135.771899 L161.755369,145.798942 L161.755369,148 L110.38282,148 L110.38282,145.798942 L120.963119,135.527337 C122.002801,134.487948 122.002801,134.182246 122.002801,132.592593 L122.002801,73.0417402 L92.585901,147.755438 L88.6106443,147.755438 L54.3622782,73.0417402 L54.3622782,123.115814 C54.0767278,125.221069 54.7759199,127.3406 56.2581699,128.863022 L70.0186741,145.55438 L70.0186741,147.755438 L31,147.755438 L31,145.55438 L44.7605042,128.863022 C46.2319621,127.338076 46.8903838,125.204485 46.5340803,123.115814 L46.5340803,65.2157554 Z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span>
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
</div></div>
  </div>
</footer>

  </body>
</html>
